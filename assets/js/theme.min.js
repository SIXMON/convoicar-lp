"use strict";async function loadTranslations(e){const t=await fetch(`./locales/${e}.json`);return t.json()}function setTranslations(n){document.querySelectorAll("[data-translate]").forEach(e=>{var t=e.getAttribute("data-translate");e.firstChild.textContent=n[t]||e.firstChild.textContent})}function getLangFromLocalStorage(){return localStorage.getItem("lang")||getPreferredLanguage()}function setLangInLocalStorage(e){localStorage.setItem("lang",e)}function updateSelectLang(e){const t=document.getElementById("lang-"+e);t.click()}async function changeLang(e){setLangInLocalStorage(e),setTranslations(await loadTranslations(e))}function getPreferredLanguage(){var e;for(e of navigator.languages||[navigator.language||navigator.userLanguage]){if(e.startsWith("fr"))return"fr";if(e.startsWith("es"))return"es"}return"fr"}!function(){var e=document.querySelectorAll(".svg-shim > svg");/MSIE \d|Trident.*rv:/.test(navigator.userAgent)&&[].forEach.call(e,function(e){var t,n;e=e,t=window.getComputedStyle(e,null).getPropertyValue("color"),n="data:image/svg+xml,"+(n=(n=(n=(n=(n=(n=(n=(new XMLSerializer).serializeToString(e)).replace(/currentColor/g,t)).replace(/\s\s+/g," ")).replace(/</g,"%3C")).replace(/>/g,"%3E")).replace(/#/g,"%23")).replace(/"/g,"'")),(t=document.createElement("img")).src=n,t.alt="...",(n=e.parentNode).appendChild(t),n.removeChild(e)})}(),"undefined"!=typeof AOS&&AOS.init({duration:700,easing:"ease-out-quad",once:!0,startEvent:"load"}),function(){var e=document.querySelectorAll("[data-choices]");"undefined"!=typeof Choices&&e&&[].forEach.call(e,function(e){var t,n;t=(e=e).dataset.choices?JSON.parse(e.dataset.choices):{},n={searchEnabled:!1,classNames:{containerInner:e.className,list:"none",listSingle:"none",listDropdown:"dropdown-menu",itemChoice:"dropdown-item",activeState:"show",selectedState:"active"}},n=Object.assign(n,t),new Choices(e,n)})}(),function(){var e=document.querySelectorAll('[data-toggle="countup"]');function t(e){var t=e.dataset.from?+e.dataset.from:null,n=e.dataset.to?+e.dataset.to:null,o=e.dataset.decimals?+e.dataset.decimals:null,a=e.dataset.duration?+e.dataset.duration:null,l=e.dataset.options?JSON.parse(e.dataset.options):null,t=new CountUp(e,t,n,o,a,l);t.error?console.error(t.error):(t.start(),e.classList.add("counted"))}"undefined"!=typeof CountUp&&e&&[].forEach.call(e,function(e){"countup:in"!==e.getAttribute("data-aos-id")&&t(e)}),document.addEventListener("aos:in:countup:in",function(e){e.detail instanceof Element?t(e.detail):(e=document.querySelectorAll('.aos-animate[data-aos-id="countup:in"]:not(.counted)'),[].forEach.call(e,function(e){t(e)}))})}(),function(){var e=document.querySelectorAll(".navbar-nav .dropdown, .navbar-nav .dropright"),o=["mouseenter"],a=["mouseleave","click"];[].forEach.call(e,function(t){var n=t.querySelector(".dropdown-menu");o.forEach(function(e){t.addEventListener(e,function(){var e;e=n,window.innerWidth<992||(e.classList.add("showing"),setTimeout(function(){e.classList.remove("showing"),e.classList.add("show")},1))})}),a.forEach(function(e){t.addEventListener(e,function(e){var t;e=e,t=n,window.innerWidth<992||!t.classList.contains("show")||"click"===e.type&&e.target.closest(".dropdown-menu form")||(t.classList.add("showing"),t.classList.remove("show"),setTimeout(function(){t.classList.remove("showing")},200))})})})}(),function(){var e=document.querySelectorAll("[data-dropzone]");"undefined"!=typeof Dropzone&&e&&(Dropzone.autoDiscover=!1,Dropzone.thumbnailWidth=null,Dropzone.thumbnailHeight=null,[].forEach.call(e,function(e){var t,n,o;t=void 0,n=(e=e).dataset.dropzone?JSON.parse(e.dataset.dropzone):{},o={previewsContainer:e.querySelector(".dz-preview"),previewTemplate:e.querySelector(".dz-preview").innerHTML,init:function(){this.on("addedfile",function(e){1==n.maxFiles&&t&&this.removeFile(t),t=e})}},o=Object.assign(o,n),e.querySelector(".dz-preview").innerHTML="",new Dropzone(e,o)}))}(),jQuery().fancybox&&($.fancybox.defaults.image.preload=!1,$.fancybox.defaults.toolbar=!1,$.fancybox.defaults.clickContent=!1),function(){var e=document.querySelectorAll(".highlight");"undefined"!=typeof hljs&&e&&[].forEach.call(e,function(e){hljs.highlightBlock(e)})}(),function(){var e=$("[data-isotope]");$("[data-filter]").on("click",function(){var e=$(this),t=e.data("filter"),e=e.data("target");$(e).isotope({filter:t})}),e.imagesLoaded().progress(function(){e.isotope("layout")})}(),function(){var e=document.querySelectorAll('[data-toggle="map"]');"undefined"!=typeof mapboxgl&&e&&[].forEach.call(e,function(e){var t;t=(t=(e=e).dataset.options)?JSON.parse(t):{},e=Object.assign({container:e,style:"mapbox://styles/mapbox/light-v9",scrollZoom:!1,interactive:!1},t),mapboxgl.accessToken="pk.eyJ1IjoiZ29vZHRoZW1lcyIsImEiOiJjanU5eHR4N2cybDU5NGVwOHZwNGprb3E0In0.msdw9q16dh8v4azJXUdiXg",new mapboxgl.Map(e)})}(),function(){var e=document.querySelectorAll(".modal");function t(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.body.style.paddingRight=e+"px"}$(e).on({"show.bs.modal":function(){t()},"hidden.bs.modal":function(){document.documentElement.style.overflow="",document.body.style.paddingRight=""}})}(),function(){var e=document.querySelectorAll(".navbar-togglable"),t=document.querySelectorAll(".navbar-collapse"),n=["load","scroll"],o=!1;function a(e){var t,n=window.pageYOffset;n&&!o&&((t=e).classList.remove("navbar-dark"),t.classList.add("navbar-light"),t.classList.add("bg-white"),o=!0),n||((t=e).classList.remove("navbar-light"),t.classList.remove("bg-white"),t.classList.add("navbar-dark"),o=!1)}function l(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.body.style.paddingRight=e+"px"}[].forEach.call(e,function(t){n.forEach(function(e){window.addEventListener(e,function(){a(t)})})}),[].forEach.call(t,function(e){$(e).on({"show.bs.collapse":function(){l()},"hidden.bs.collapse":function(){document.documentElement.style.overflow="",document.body.style.paddingRight=""}})})}(),function(){var e=document.querySelectorAll('[data-toggle="popover"]');e&&$(e).popover({template:'<div class="popover" role="tooltip"><div class="arrow"></div><h6 class="popover-header text-uppercase"></h6><div class="popover-body"></div></div>'})}(),function(){var e=document.querySelector('[data-toggle="price"]');"undefined"!=typeof CountUp&&e&&e.addEventListener("change",function(e){var r;r=(e=(e=e).target).checked,e=e.dataset.target,e=document.querySelectorAll(e),[].forEach.call(e,function(e){var t=e.dataset.annual,n=e.dataset.monthly,o=e.dataset.decimals||null,a=e.dataset.duration||1,l=e.dataset.options?JSON.parse(e.dataset.options):null,e=r?new CountUp(e,t,n,o,a,l):new CountUp(e,n,t,o,a,l);e.error?console.error(e.error):e.start()})})}(),function(){var e=document.querySelectorAll("[data-quill]");"undefined"!=typeof Quill&&e&&[].forEach.call(e,function(e){var t;t=(e=e).dataset.quill?JSON.parse(e.dataset.quill):{},t=Object.assign({modules:{toolbar:[["bold","italic"],["link","blockquote","code","image"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow"},t),new Quill(e,t)})}(),function(){var e='[data-toggle="smooth-scroll"]';"undefined"!=typeof SmoothScroll&&new SmoothScroll(e,{header:".navbar.fixed-top",offset:function(e,t){return t.dataset.offset||24}})}(),function(){var e=document.querySelectorAll('[data-toggle="tooltip"]');e&&$(e).tooltip()}(),function(){var e=document.querySelectorAll('[data-toggle="typed"]');"undefined"!=typeof Typed&&e&&[].forEach.call(e,function(e){var t;t=(t=(e=e).dataset.options)?JSON.parse(t):{},t=Object.assign({typeSpeed:40,backSpeed:40,backDelay:1e3,loop:!0},t),new Typed(e,t)})}(),function(){var e=new cloudinary.Cloudinary({cloud_name:"des7ayfwu",secure:!0}),t=e.imageTag("convoicar_website/Allianz.svg_qf2rvb",{height:18,quality:100,crop:"scale",format:"png"}).toHtml(),n=e.imageTag("convoicar_website/facemask2",{effect:"colorize",color:"#211F2D",height:50,quality:100,crop:"scale",format:"png"}).toHtml(),o=e.imageTag("convoicar_website/5-stars",{effect:"colorize",color:"#211F2D",height:50,quality:100,format:"png"}).toHtml(),e=e.imageTag("convoicar_website/Assurance-icon",{effect:"colorize",color:"#211F2D",height:50,quality:100,crop:"scale",format:"png"}).toHtml();null!==document.getElementById("allianz")&&(document.getElementById("allianz").innerHTML=t),null!==document.getElementById("facemask")&&(document.getElementById("facemask").innerHTML=n),null!==document.getElementById("customerreview")&&(document.getElementById("customerreview").innerHTML=o),null!==document.getElementById("bouclier")&&(document.getElementById("bouclier").innerHTML=e)}(),document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".custom-select-language"),n=t.querySelector(".custom-select-trigger"),e=t.querySelector(".custom-options"),o=e.querySelectorAll(".custom-option");n.addEventListener("click",function(){t.classList.toggle("open")}),o.forEach(function(e){e.addEventListener("click",function(){n.innerHTML=e.innerHTML,t.classList.remove("open")})}),document.addEventListener("click",function(e){t.contains(e.target)||t.classList.remove("open")});var a=getLangFromLocalStorage(),a=(updateSelectLang(a),await loadTranslations(a));setTranslations(a)}),document.addEventListener("DOMContentLoaded",()=>{var e=window.tf.createPopup("NJfm2KNi")["toggle"];document.querySelector("#typeform_contact").onclick=e});const blogPosts=[{title:"L'avenir des nouvelles mobilités",subtitle:"L’arrivée des nouvelles solutions de mobilité douces en concession",description:`Les Français réalisent en moyenne 181 millions de déplacements au quotidien et en tête du classement nous retrouvons sans surprise la voiture qui apparaît
                    comme notre moyen de transport préféré avec un taux d'utilisation qui se situe à 77%. Indispensable dans certaines régions, elle devient peu adaptée
                    dans des zones urbaines réglementées et proposant d'autres types de mobilités.`,url:"/blogs/arrivee-mobilite"}];function createBlogCard(e){return`
        <div class="col-12 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h2 class="card-title text-primary">${e.title}</h2>
                    <p class="card-subtitle bold">${e.subtitle}</p>
                    <p class="card-text text-muted">${e.description}</p>
                    <div class="text-right">
                        <a href="${e.url}" class="btn link-btn text-12">Lire la suite</a>
                    </div>
                </div>
            </div>
        </div>
    `}function displayAllPosts(){const e=document.getElementById("searchResults");var t=blogPosts.map(e=>createBlogCard(e)).join("");e.innerHTML=t}function searchBlog(){const t=document.getElementById("searchInput").value.toLowerCase(),e=document.getElementById("searchResults"),n=blogPosts.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t));var o=n.map(e=>createBlogCard(e)).join("");e.innerHTML=o||'<div class="col-12 text-center">Aucun résultat trouvé</div>'}document.getElementById("searchInput").addEventListener("input",searchBlog),document.addEventListener("DOMContentLoaded",displayAllPosts);